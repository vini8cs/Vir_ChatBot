FROM ghcr.io/astral-sh/uv:python3.12-bookworm-slim

WORKDIR /app/frontend

ENV UV_COMPILE_BYTECODE=1
ENV UV_LINK_MODE=copy

COPY frontend/pyproject.toml frontend/uv.lock ./

RUN uv sync --locked --no-dev --no-install-project

COPY frontend/*.py ./

ENV PATH="/app/frontend/.venv/bin:$PATH"

CMD ["streamlit", "run", "app.py", "--server.port=8501", "--server.address=0.0.0.0"]
